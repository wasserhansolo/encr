\hypertarget{encr_8c}{\section{/\-Users/obdev/\-Documents/\-Betriebs\-Systeme/encr/src/encr.c File Reference}
\label{encr_8c}\index{/\-Users/obdev/\-Documents/\-Betriebs\-Systeme/encr/src/encr.\-c@{/\-Users/obdev/\-Documents/\-Betriebs\-Systeme/encr/src/encr.\-c}}
}


Main program module. This program encypts text from the stdin.  


{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$signal.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{encr_8c_ad19ed40f10059f29b2f6011066963346}{L\-I\-N\-E\-B\-U\-F\-F\-E\-R\-S\-I\-Z\-E}~(1024)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{encr_8c_a5aa9c01df394cf1b62c3f89981667669}{getlinefromstdin} ()
\begin{DoxyCompactList}\small\item\em read line from stdin and encrypt it in a child process, print it \end{DoxyCompactList}\item 
void \hyperlink{encr_8c_a74a45d2648335936561898c390281a6a}{terminate} ()
\begin{DoxyCompactList}\small\item\em handles S\-I\-G\-T\-E\-R\-M event and waits for all the child to terminate also lets the father live until all children sent the S\-I\-G\-C\-H\-L\-D signal \end{DoxyCompactList}\item 
void \hyperlink{encr_8c_a1a1963806dc8cc4937fc29ab4d3406bb}{childhandler} (int signal)
\begin{DoxyCompactList}\small\item\em handles S\-I\-G\-C\-H\-L\-D event and waits for the child to terminate \end{DoxyCompactList}\item 
void \hyperlink{encr_8c_a6da54cc7447797381dd9d13bff0a041b}{siginthandler} (int sig)
\begin{DoxyCompactList}\small\item\em handles S\-I\-G\-I\-N\-T,S\-I\-G\-Q\-U\-I\-T event and frees the linebuffer memory \end{DoxyCompactList}\item 
int \hyperlink{encr_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em The program starts here. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{encr_8c_a6e27f49150e9a14580fb313cc2777e00}{int {\bfseries status} =1}\label{encr_8c_a6e27f49150e9a14580fb313cc2777e00}

\item 
\hypertarget{encr_8c_ae096ed29f52fe19d31b79a09e1c01b7a}{int {\bfseries ischild} =0}\label{encr_8c_ae096ed29f52fe19d31b79a09e1c01b7a}

\item 
\hypertarget{encr_8c_a1503d2917eeff2eef696162cb6a5d1d1}{char $\ast$ {\bfseries linebuffer}}\label{encr_8c_a1503d2917eeff2eef696162cb6a5d1d1}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Main program module. This program encypts text from the stdin. \begin{DoxyAuthor}{Author}
Christian Kuepper \href{mailto:wasser@chello.at}{\tt wasser@chello.\-at} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
04.\-05.\-2014 
\end{DoxyDate}


\subsection{Macro Definition Documentation}
\hypertarget{encr_8c_ad19ed40f10059f29b2f6011066963346}{\index{encr.\-c@{encr.\-c}!L\-I\-N\-E\-B\-U\-F\-F\-E\-R\-S\-I\-Z\-E@{L\-I\-N\-E\-B\-U\-F\-F\-E\-R\-S\-I\-Z\-E}}
\index{L\-I\-N\-E\-B\-U\-F\-F\-E\-R\-S\-I\-Z\-E@{L\-I\-N\-E\-B\-U\-F\-F\-E\-R\-S\-I\-Z\-E}!encr.c@{encr.\-c}}
\subsubsection[{L\-I\-N\-E\-B\-U\-F\-F\-E\-R\-S\-I\-Z\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-I\-N\-E\-B\-U\-F\-F\-E\-R\-S\-I\-Z\-E~(1024)}}\label{encr_8c_ad19ed40f10059f29b2f6011066963346}
defines the size of the Linebuffer to allocate 

\subsection{Function Documentation}
\hypertarget{encr_8c_a1a1963806dc8cc4937fc29ab4d3406bb}{\index{encr.\-c@{encr.\-c}!childhandler@{childhandler}}
\index{childhandler@{childhandler}!encr.c@{encr.\-c}}
\subsubsection[{childhandler}]{\setlength{\rightskip}{0pt plus 5cm}void childhandler (
\begin{DoxyParamCaption}
\item[{int}]{signal}
\end{DoxyParamCaption}
)}}\label{encr_8c_a1a1963806dc8cc4937fc29ab4d3406bb}


handles S\-I\-G\-C\-H\-L\-D event and waits for the child to terminate 

childhandler 
\begin{DoxyParams}{Parameters}
{\em signal} & the S\-I\-G\-C\-H\-L\-D signal \\
\hline
\end{DoxyParams}
\hypertarget{encr_8c_a5aa9c01df394cf1b62c3f89981667669}{\index{encr.\-c@{encr.\-c}!getlinefromstdin@{getlinefromstdin}}
\index{getlinefromstdin@{getlinefromstdin}!encr.c@{encr.\-c}}
\subsubsection[{getlinefromstdin}]{\setlength{\rightskip}{0pt plus 5cm}int getlinefromstdin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{encr_8c_a5aa9c01df394cf1b62c3f89981667669}


read line from stdin and encrypt it in a child process, print it 

getlinefromstdin

The function reads from the stdin, cutts the newline (if there is any) forks a child process, which encrypts it and takes a certain (random) ammount of time to do this and prints it to the stdout. \hypertarget{encr_8c_a3c04138a5bfe5d72780bb7e82a18e627}{\index{encr.\-c@{encr.\-c}!main@{main}}
\index{main@{main}!encr.c@{encr.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{encr_8c_a3c04138a5bfe5d72780bb7e82a18e627}


The program starts here. 

Program entry point.

signalhandling is called if S\-I\-G\-T\-E\-R\-M, S\-I\-G\-C\-H\-L\-D, S\-I\-G\-I\-N\-T or S\-I\-G\-Q\-U\-I\-T is called  getlinefromstin is the function which implements the whole logic 
\begin{DoxyParams}{Parameters}
{\em argc} & The argument counter. ( if argument is given, usage message is called) \\
\hline
{\em argv} & The argument vector. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns E\-X\-I\-T\-\_\-\-S\-U\-C\-C\-E\-S\-S if \hyperlink{encr_8c_a5aa9c01df394cf1b62c3f89981667669}{getlinefromstdin()} was successful. 
\end{DoxyReturn}
\hypertarget{encr_8c_a6da54cc7447797381dd9d13bff0a041b}{\index{encr.\-c@{encr.\-c}!siginthandler@{siginthandler}}
\index{siginthandler@{siginthandler}!encr.c@{encr.\-c}}
\subsubsection[{siginthandler}]{\setlength{\rightskip}{0pt plus 5cm}void siginthandler (
\begin{DoxyParamCaption}
\item[{int}]{sig}
\end{DoxyParamCaption}
)}}\label{encr_8c_a6da54cc7447797381dd9d13bff0a041b}


handles S\-I\-G\-I\-N\-T,S\-I\-G\-Q\-U\-I\-T event and frees the linebuffer memory 

siginthandler 
\begin{DoxyParams}{Parameters}
{\em signal} & the S\-I\-G\-C\-H\-L\-D signal \\
\hline
\end{DoxyParams}
\hypertarget{encr_8c_a74a45d2648335936561898c390281a6a}{\index{encr.\-c@{encr.\-c}!terminate@{terminate}}
\index{terminate@{terminate}!encr.c@{encr.\-c}}
\subsubsection[{terminate}]{\setlength{\rightskip}{0pt plus 5cm}void terminate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{encr_8c_a74a45d2648335936561898c390281a6a}


handles S\-I\-G\-T\-E\-R\-M event and waits for all the child to terminate also lets the father live until all children sent the S\-I\-G\-C\-H\-L\-D signal 

terminate 
\begin{DoxyParams}{Parameters}
{\em signal} & the S\-I\-G\-C\-H\-L\-D signal \\
\hline
\end{DoxyParams}
